{"version":3,"sources":["Merchant Panel/Merchant-Panel-Pages/Merchant-Auth/Login.js"],"names":["AdminLogin","useEffect","localStorage","clear","useState","email","setEmail","password","setPassword","success","setSuccess","errMsg","setErrMsg","event","preventDefault","console","log","axios","post","JSON","stringify","headers","response","data","accessToken","setItem","status","className","Group","Control","type","placeholder","onChange","target","value","handleChange","size","handleChangeone","to","onClick","onSubmit"],"mappings":"k/MA6IeA,UAxIf,WACCC,qBAAU,WACTC,aAAaC,UACX,IACH,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAA4BN,mBAAS,IAArC,mBAAOO,EAAP,KAAeC,EAAf,KAPqB,4CAiBrB,WAAwBC,GAAxB,oFACCA,EAAMC,iBACNC,QAAQC,IAAIX,EAAOE,GAFpB,kBAIyBU,IAAMC,KAAN,kDAEtBC,KAAKC,UAAU,CAAEf,QAAOE,aACxB,CACCc,QAAS,CAAE,eAAgB,sBAR/B,OAIQC,EAJR,OAaEP,QAAQC,IAAIG,KAAKC,UAAL,OAAeE,QAAf,IAAeA,OAAf,EAAeA,EAAUC,OAE/BC,EAfR,OAesBF,QAftB,IAesBA,GAftB,UAesBA,EAAUC,YAfhC,aAesB,EAAgBC,YACpCtB,aAAauB,QAAQ,QAASD,GAC9BlB,EAAS,IACTE,EAAY,IACZE,GAAW,GAnBb,mDAqBM,kCAAC,KAAKY,UAE0B,OAAzB,eAAIA,gBAAJ,eAAcI,SACxBd,EAAU,0BACVF,GAAW,IAEXE,EAAU,gBALVA,EAAU,sBAOXG,QAAQC,IAAR,MA7BF,QA+BCD,QAAQC,IAAIP,GA/Bb,2DAjBqB,sBAkDrB,OACC,6BACC,yBAAKkB,UAAU,uCACd,yBAAKA,UAAU,kBACd,yBAAKA,UAAU,oBACd,yBAAKA,UAAU,+CACd,yBAAKA,UAAU,cACd,wBAAIA,UAAYhB,EAAoB,cAAX,UAA2BA,IAOrD,wDACA,wBAAIgB,UAAU,qBAAd,wBACA,kBAAC,IAAD,CAAMA,UAAU,QACf,kBAAC,IAAKC,MAAN,CAAYD,UAAU,uBACrB,kBAAC,IAAKE,QAAN,CACCC,KAAK,QACLC,YAAY,WACZC,SAAU,SAACnB,GAAD,OA5DnB,SAAsBA,GACrBP,EAASO,EAAMoB,OAAOC,OA2DOC,CAAatB,IAClCqB,MAAO7B,EACP+B,KAAK,KACLT,UAAU,YAGZ,kBAAC,IAAKC,MAAN,CAAYD,UAAU,uBACrB,kBAAC,IAAKE,QAAN,CACCC,KAAK,WACLC,YAAY,WACZC,SAAU,SAACnB,GAAD,OAnEnB,SAAyBA,GACxBL,EAAYK,EAAMoB,OAAOC,OAkEIG,CAAgBxB,IACrCqB,MAAO3B,EACP6B,KAAK,KACLT,UAAU,YAGZ,yBAAKA,UAAU,QACZlB,EAOD,kBAAC,IAAD,CAAU6B,GAAG,wBANb,4BACCC,QAAS,SAAC1B,GAAD,OA1FE,2CA0FS2B,CAAS3B,IAC7Bc,UAAU,qEAFX,YASF,yBAAKA,UAAU,0DACd,yBAAKA,UAAU,cACd,2BAAOA,UAAU,+BAChB,2BAAOG,KAAK,WAAWH,UAAU,qBACjC,uBAAGA,UAAU,iBAFd,sBAMD,kBAAC,IAAD,CACCW,GAAG,4BAEHX,UAAU,wBAHX,qBAOD,yBAAKA,UAAU,QACd,4BACCG,KAAK,SACLH,UAAU,4CACV,uBAAGA,UAAU,0BAHd,2BAOD,yBAAKA,UAAU,sCAAf,yBACwB,IACvB,kBAAC,IAAD,CAAMW,GAAG,yBAAyBX,UAAU,gBAA5C","file":"static/js/37.f698dafe.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction AdminLogin() {\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.clear();\r\n\t}, []);\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [success, setSuccess] = useState(false);\r\n\tconst [errMsg, setErrMsg] = useState(\"\");\r\n\t// const logindetails = { email, password };\r\n\r\n\t// const navigate = Redirect();\r\n\tfunction handleChange(event) {\r\n\t\tsetEmail(event.target.value);\r\n\t}\r\n\tfunction handleChangeone(event) {\r\n\t\tsetPassword(event.target.value);\r\n\t}\r\n\tasync function onSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(email, password);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t`https://backend.klivepay.com/api/merchant/login`,\r\n\t\t\t\tJSON.stringify({ email, password }),\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t// withCredentials: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconsole.log(JSON.stringify(response?.data));\r\n\r\n\t\t\tconst accessToken = response?.data?.accessToken;\r\n\t\t\tlocalStorage.setItem(\"token\", accessToken);\r\n\t\t\tsetEmail(\"\");\r\n\t\t\tsetPassword(\"\");\r\n\t\t\tsetSuccess(true);\r\n\t\t} catch (err) {\r\n\t\t\tif (!err?.response) {\r\n\t\t\t\tsetErrMsg(\"No Server Response\");\r\n\t\t\t} else if (err.response?.status === 400) {\r\n\t\t\t\tsetErrMsg(\"Invalid Credentialials\");\r\n\t\t\t\tsetSuccess(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrMsg(\"Login failed\");\r\n\t\t\t}\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t\tconsole.log(success);\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex align-items-center auth px-0\">\r\n\t\t\t\t<div className=\"row w-100 mx-0\">\r\n\t\t\t\t\t<div className=\"col-lg-6 mx-auto\">\r\n\t\t\t\t\t\t<div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\r\n\t\t\t\t\t\t\t<div className=\"brand-logo\">\r\n\t\t\t\t\t\t\t\t<h3 className={!errMsg ? \"errMsg\" : \"text-danger\"}>{errMsg}</h3>\r\n\r\n\t\t\t\t\t\t\t\t{/* <img\r\n\t\t\t\t\t\t\t\t\tsrc={require(\"../../../assets/images/logo.svg\")}\r\n\t\t\t\t\t\t\t\t\talt=\"logo\"\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h4>Hello! let's get started</h4>\r\n\t\t\t\t\t\t\t<h6 className=\"font-weight-light\">Sign in to continue.</h6>\r\n\t\t\t\t\t\t\t<Form className=\"pt-3\">\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"d-flex search-field\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleChange(event)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-auto\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"d-flex search-field\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleChangeone(event)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-auto\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t{!success ? (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => onSubmit(event)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\tSIGN IN\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/merchant/dashboard\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2 d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"form-check-label text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"input-helper\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\tKeep me signed in\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto=\"/merchant/forgot-password\"\r\n\t\t\t\t\t\t\t\t\t\t// onClick={(event) => event.preventDefault()}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"auth-link text-black\">\r\n\t\t\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-facebook auth-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"mdi mdi-facebook mr-2\"></i>Connect using\r\n\t\t\t\t\t\t\t\t\t\tfacebook\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"text-center mt-4 font-weight-light\">\r\n\t\t\t\t\t\t\t\t\tDon't have an account?{\" \"}\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/merchant/registration\" className=\"text-primary\">\r\n\t\t\t\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AdminLogin;\r\n"],"sourceRoot":""}